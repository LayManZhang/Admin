<script type="text/javascript" src="/assets/libs/jquery/dist/jquery.min.js"></script>
<script>
    function uptype(){
        var id = $("#c-parent_id").val();
        $.ajax({
            url:"{:url('admin/cms.xmjb/get_type')}",
            type:'get',
            data : {id:id},
            success : function(data){
                switch (data.grade_type) {
                    case "1":
                        $("select[name='row[grade_type]']").val(2);
                        $(".filter-option").text('二级');
                        break;
                    case "2":
                        $("select[name='row[grade_type]']").val(3);
                        $(".filter-option").text('三级');
                        break;
                    case "3":
                        $("select[name='row[grade_type]']").val(4);
                        $(".filter-option").text('四级');
                        break;
                    default:
                        $("select[name='row[grade_type]']").val(4);
                        $(".filter-option").text('四级');
                        break;
                }
            }
        });
    }
</script>
<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Parent_id')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-parent_id" data-rule="required" data-source="cms/xmjb/get_sjxm" onchange="uptype()" class="form-control selectpage" name="row[parent_id]" type="text" value="{$row.parent_id}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Grade_name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-grade_name" data-rule="required" class="form-control" name="row[grade_name]" type="text" value="{$row.grade_name}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Grade_tname')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-grade_tname" data-rule="required" class="form-control" name="row[grade_tname]" type="text" value="{$row.grade_tname}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Grade_fname')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-grade_fname" data-rule="required" class="form-control" name="row[grade_fname]" type="text" value="{$row.grade_fname}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Grade_type')}:</label>
        <div class="col-xs-12 col-sm-8">
                        
            <select  id="c-grade_type" data-rule="required" class="form-control selectpicker" name="row[grade_type]"  disabled="disabled">
                {foreach name="gradeTypeList" item="vo"}
                    <option value="{$key}" {in name="key" value="$row.grade_type"}selected{/in}>{$vo}</option>
                {/foreach}
            </select>

        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Myorder')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-myorder" data-rule="required" class="form-control" name="row[myorder]" type="number" value="{$row.myorder}">
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
